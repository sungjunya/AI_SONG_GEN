<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>♮ AI 음악 생성 ♮</title>
    <!-- 구글폰트 (Noto Sans KR) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header class="site-header">
        <h1>♮ AI 음악 생성 ♮</h1>
        <div id="headerControls" class="header-buttons">
            <button id="loginBtn" class="auth-btn">로그인</button>
            <button id="signupBtn" class="auth-btn">회원가입</button>
        </div>
        <div id="profileSection" class="header-profile hidden">
            <span id="profileName"></span>
            <button id="logoutBtn" class="auth-btn logout-btn">로그아웃</button>
        </div>
    </header>

    <!-- 모달들 -->
    <div id="loginModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeLogin" class="close">&times;</span>
            <h2>로그인</h2>
            <div class="input-group">
                <input id="loginEmail" type="email" placeholder="이메일" class="prompt-input" />
                <input id="loginPassword" type="password" placeholder="비밀번호" class="prompt-input" />
                <button id="loginSubmit" class="generate-btn">로그인</button>
            </div>
            <p id="loginMessage" class="message error"></p>
        </div>
    </div>

    <div id="signupModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeSignup" class="close">&times;</span>
            <h2>회원가입</h2>
            <div class="input-group">
                <input id="signupEmail" type="email" placeholder="이메일" class="prompt-input" />
                <input id="signupPassword" type="password" placeholder="비밀번호" class="prompt-input" />
                <input id="signupUsername" type="text" placeholder="사용자 이름" class="prompt-input" />
                <button id="signupSubmit" class="generate-btn">회원가입</button>
            </div>
            <p id="signupMessage" class="message error"></p>
        </div>
    </div>

    <div id="commentModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeComment" class="close">&times;</span>
            <h2>댓글</h2>
            <ul id="commentList" class="comment-list"></ul>
            <div class="comment-input-group">
                <input id="commentInput" type="text" placeholder="댓글을 입력하세요" class="prompt-input" />
                <button id="commentSubmit" class="generate-btn">등록</button>
            </div>
            <p id="commentMessage" class="message error"></p>
        </div>
    </div>

    <!-- 메인 섹션 -->
    <section id="generateSection" class="section hidden">
        <h2>1. 프롬프트 또는 이미지 입력</h2>
        <div class="input-group">
            <input id="promptInput" type="text" placeholder="프롬프트를 입력하세요" class="prompt-input" />
            <div id="dropZone" class="drop-zone">
                <p>이미지를 드래그하거나 클릭하여 업로드 📷</p>
                <input id="imageInput" type="file" accept="image/*" hidden />
            </div>
        </div>

        <h2>2. 옵션 선택</h2>
        <div class="options mandatory-options">
            <div class="option-btn active" data-type="both">가사+멜로디</div>
            <div class="option-btn" data-type="lyrics">가사만</div>
            <div class="option-btn" data-type="melody">멜로디만</div>
        </div>
        <div class="options category-options">
            <div class="option-btn" data-cat="genre">장르</div>
            <div class="option-btn" data-cat="mood">분위기</div>
            <div class="option-btn" data-cat="activity">활동</div>
        </div>
        <div id="subOptions" class="sub-options"></div>

        <h2>3. 악보 옵션</h2>
        <label class="checkbox-label">
            <input id="sheetOption" type="checkbox" /> 악보 보기
        </label>

        <button id="generateBtn" class="generate-btn">음악 생성</button>

        <div id="results" class="results hidden">
            <h3>생성된 가사</h3>
            <pre id="lyrics" class="result-box"></pre>
            <h3>생성된 멜로디</h3>
            <pre id="melody" class="result-box"></pre>
            <button id="saveSongBtn" class="generate-btn">저장하기</button>
            <p id="saveMessage" class="message success"></p>
        </div>
    </section>

    <!-- 음원 재생 섹션 -->
    <section id="voiceSection" class="section hidden">
        <h3>생성된 음성</h3>
        <audio id="audioPlayer" controls></audio>
        <div id="audioControls" style="margin-top:10px;">
            <button id="playBtn" class="audio-btn">▶ 재생</button>
            <button id="pauseBtn" class="audio-btn" disabled>⏸ 일시정지</button>
        </div>
    </section>

    <!-- 내가 저장한 노래 -->
    <section id="mySongsSection" class="section hidden">
        <h2>내가 저장한 노래</h2>
        <ul id="mySongList" class="song-list"></ul>
    </section>

    <!-- 공개된 모든 노래 -->
    <section id="publicSongsSection" class="section hidden">
        <h2>공개된 모든 노래</h2>
        <ul id="publicSongList" class="song-list"></ul>
    </section>

    <script src="script.js"></script>
</body>

</html>
